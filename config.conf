###############################################################################
#  config.conf — Central Configuration for Linux Monitoring System
###############################################################################

# ──────────────────────────────────────────────────────────────────────────────
# 1. METRIC THRESHOLDS (values trigger WARNING and CRITICAL alerts)
# ──────────────────────────────────────────────────────────────────────────────
CPU_WARN=70
CPU_CRIT=80

MEMORY_WARN=65
MEMORY_CRIT=75

DISK_WARN=75
DISK_CRIT=85

LOAD_WARN=3
LOAD_CRIT=5

IOWAIT_WARN=15
IOWAIT_CRIT=30

NET_ERRORS_WARN=100
NET_ERRORS_CRIT=500

TCP_RETRANS_WARN=50
TCP_RETRANS_CRIT=200

# ──────────────────────────────────────────────────────────────────────────────
# 2. DASHBOARD SETTINGS
# ──────────────────────────────────────────────────────────────────────────────
REFRESH_INTERVAL=5          # Dashboard refresh rate in seconds
HEALTH_LOG_INTERVAL=300     # Health history logging interval in seconds (300 = 5 min)

# ──────────────────────────────────────────────────────────────────────────────
# 3. EMAIL ALERTING
# ──────────────────────────────────────────────────────────────────────────────
EMAIL_ENABLED=false
EMAIL_RECIPIENT="admin@example.com"
EMAIL_SUBJECT_PREFIX="[SYS-ALERT]"
EMAIL_FROM="monitor@$(hostname)"

# ──────────────────────────────────────────────────────────────────────────────
# 4. CRITICAL SERVICES (space-separated list for self-healing)
# ──────────────────────────────────────────────────────────────────────────────
CRITICAL_SERVICES="sshd nginx mysql"
MAX_RESTART_RETRIES=3

# ──────────────────────────────────────────────────────────────────────────────
# 5. LOG ROTATION SETTINGS
# ──────────────────────────────────────────────────────────────────────────────
LOG_RETENTION_DAYS=30       # Delete logs older than this many days
LOG_MAX_SIZE_MB=50          # Compress logs larger than this
MAX_ROTATED_FILES=10        # Keep at most this many rotated/compressed copies

# ──────────────────────────────────────────────────────────────────────────────
# 6. PATHS (relative to project root)
# ──────────────────────────────────────────────────────────────────────────────
LOG_DIR="logs"
REPORT_DIR="reports"
HEALTH_LOG="logs/health_history.log"
ALERT_LOG="logs/alerts.log"
SELF_HEAL_LOG="logs/self_heal.log"
SECURITY_LOG="logs/security_update.log"
